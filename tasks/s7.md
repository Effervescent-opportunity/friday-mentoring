## Обязательные задачи

В этой части рассматривается подход к написанию "мелких" тестов, при котором тестируется логика основного класса, а зависимости - мокаются (любым способом: через mockito или тестовую реализацию интерфейса).

Нужно:

1. написать тесты (в папке `test`) для сервисного слоя (KafkaProducer, AuthEventService, AuthEventListener), используя подход mock/verify;

2. оценить покрытие и реалистичность проверки таких тестов - к каким кейсам устойчивы, к каким - неустойчивы, в каких случаях нужно обращаться к "крупным" интеграционным тестам.

**Детали**

На этом этапе допускается и скорее всего необходимо изменение основной реализации (src/main). Распространённый рефакторинг - выделение интерфейса.

## Факультативные задачи

- С помощью `@DataJpaTest` протестировать OutboxRepository и AuthEventRepository в части той функциональности, которая используется приложением. Принадлежность к типу (test или testInt) нужно обосновать.

## Что изучается/демонстрируется

- послойное тестирование приложения (`@DataJpaTest`, `@WebMvcTest`);
- контракт через интерфейс - см. также холивар [Should We Create an Interface for Only One Implementation?](https://www.baeldung.com/java-interface-single-implementation).